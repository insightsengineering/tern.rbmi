[{"path":[]},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others‚Äô private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement [INSERT CONTACT METHOD]. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla‚Äôs code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contribution Guidelines","title":"Contribution Guidelines","text":"First , thank taking time contribute! ‚úåÔ∏è üéâ love input regardless size, content scope - whether issue, feature request, bug-fix documentation enhancement. Thanks üôè rock ü§ò","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"table-of-contents","dir":"","previous_headings":"","what":"Table of contents","title":"Contribution Guidelines","text":"üë∂ Getting started üìî Code Conduct üóÉ License üêõ report bug? üí° request change? üö© submit change? üëó Style guide üßê Recognition model ‚ùì questions","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"Contribution Guidelines","text":"introduction, please read README file. can also find vignettes . Usually find ‚ÄúGetting started‚Äù article. Please also see package manual form pkgdown website.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contribution Guidelines","text":"project governed Code Conduct. participating, expected follow rules outlined .","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Contribution Guidelines","text":"code changes license covers project.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"how-to-report-a-bug","dir":"","previous_headings":"","what":"How to report a bug?","title":"Contribution Guidelines","text":"use GitHub track issues, feature requests well bugs. opening new issue please double-check ‚Äôs already reported (don‚Äôt worry duplicate - manage). already - -vote ‚¨ÜÔ∏è. look faster! kindly ask write good issue minimal reproducible example demonstrates problem. also great know local environment (R session info) well. find template issues opening bug ticket. speed fixing process lot! üìà.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"how-to-request-the-change","dir":"","previous_headings":"","what":"How to request the change?","title":"Contribution Guidelines","text":"notice missing feature idea enhance existing functionalities - please let us know creating new issue. opening new issue please double-check ‚Äôs already reported (don‚Äôt worry occurs duplicate - manage). already - -vote ‚¨ÜÔ∏è. look faster! Please elaborate ‚Äú?‚Äù - ‚Äôs context, ‚Äôs benefit . find template opening feature request ticket. help us prioritize submit meaningful changes.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"github-flow","dir":"","previous_headings":"How to submit a change?","what":"GitHub Flow","title":"Contribution Guidelines","text":"following GitHub Flow collaborate repository. order submit changes please following: Open branch Please see branch naming convention . don‚Äôt write access please fork first. Make changes. Make sure code passes checks well documented tested decrease existing test coverage üí™. Create PR(s) Please link issue make good change description. Include development assumptions necessary. Give details reviewer efficiently check changes. Address review comments Please apply changes necessary. disagree reviewer - please explain . approved - merge PR(s) delete branch","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"branching-convention","dir":"","previous_headings":"How to submit a change?","what":"Branching convention","title":"Contribution Guidelines","text":"case working task inside one specific repository, please name branch <issue_id>_<short_description> lowercase. Multiple words description divided underscore (_). E.g. 15_fix_spelling_error case try solve spelling mistake mentioned issue number 15. case working task one repository affects multiple repositories, please always name branches: <issue_id>_<issue_repo>_<short description> lowercase. Multiple words description divided underscore (_). E.g. 15_abc_fix_spelling_error case try solve spelling mistake inside xyz closes issue 15 inside abc.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"monorepo-and-stageddependencies","dir":"","previous_headings":"How to submit a change?","what":"monorepo and staged.dependencies","title":"Contribution Guidelines","text":"Sometimes might need change upstream dependent package(s) able submit meaningful change. using staged.dependencies functionality simulate monorepo behavior. configuration already staged_dependencies.yaml file. just need name feature branches identically. exception branch naming convention described . Please read package manual details.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"r--package-versions","dir":"","previous_headings":"How to submit a change? > Recommended development environment & tools","what":"R & package versions","title":"Contribution Guidelines","text":"continuously test packages newest R version well given package dependencies. recommend set-working environment way. can find details given GitHub Action execution log - step prints session info. find bugs older version dependencies - please create appropriate bug ticket.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"pre-commit","dir":"","previous_headings":"How to submit a change? > Recommended development environment & tools","what":"pre-commit","title":"Contribution Guidelines","text":"highly recommend pre-commit tool combined R hooks pre-commit execute checks prior committing pushing. configuration already repository (). Please, follow installation guide official pre-commit page GitHub readme page R hooks.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"style-guide","dir":"","previous_headings":"","what":"Style guide","title":"Contribution Guidelines","text":"repository follows standard tidyverse style guide ‚Äôs checked lintr. slight modifications default settings available .lintr file. Although allows flexibility - recommend sticking style existing code. Please note style also lintr check place validate code.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"recognition-model","dir":"","previous_headings":"","what":"Recognition model","title":"Contribution Guidelines","text":"contribution highly welcomed appreciated. contribution data already GitHub repository insights feature, introduced objective rules recognize significant contribution became package author: Minimum 5% lines code authored (determined git blame query) top 5 contributors terms number commits lines added lines removed. package maintainer also reserves rights manually adjust criteria recognize contributions.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/CONTRIBUTING.html","id":"any-questions","dir":"","previous_headings":"","what":"Any questions","title":"Contribution Guidelines","text":"questions regarding contribution - please reach repository maintainer(s)!","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.rbmi/SECURITY.html","id":"reporting-security-issues","dir":"","previous_headings":"","what":"Reporting Security Issues","title":"Security Policy","text":"believe found security vulnerability repositories organization, please report us coordinated disclosure. Please report security vulnerabilities public GitHub issues, discussions, pull requests. Instead, please send email vulnerability.management[@]roche.com. Please include much information listed can help us better understand resolve issue: type issue (e.g., buffer overflow, SQL injection, cross-site scripting) Full paths source file(s) related manifestation issue location affected source code (tag/branch/commit direct URL) special configuration required reproduce issue Step--step instructions reproduce issue Proof--concept exploit code (possible) Impact issue, including attacker might exploit issue information help us triage report quickly.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/SECURITY.html","id":"data-security-standards-dss","dir":"","previous_headings":"","what":"Data Security Standards (DSS)","title":"Security Policy","text":"Please make sure reporting issues form bug, feature, pull request, sensitive information PII, PHI, PCI completely removed text attachments, including pictures videos.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joe Zhu. Author, maintainer. Jana Stoilova. Author. F. Hoffmann-La Roche AG. Copyright holder, funder.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Zhu J, Stoilova J (2022). tern.rbmi: Create TLGs using rbmi tern. https://github.com/insightsengineering/tern.rbmi, https://insightsengineering.github.io/tern.rbmi/.","code":"@Manual{,   title = {tern.rbmi: Create TLGs using rbmi and tern},   author = {Joe Zhu and Jana Stoilova},   year = {2022},   note = {https://github.com/insightsengineering/tern.rbmi, https://insightsengineering.github.io/tern.rbmi/}, }"},{"path":[]},{"path":"https://insightsengineering.github.io/tern.rbmi/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Create TLGs using rbmi and tern","text":"tern.rbmi provides interface Reference Based Multiple Imputation (rbmi) within tern framework.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/index.html","id":"background","dir":"","previous_headings":"","what":"Background","title":"Create TLGs using rbmi and tern","text":"details rbmi package, please see Reference Based Multiple Imputation (rbmi). basic usage rbmi core functions described quickstart vignette:","code":"vignette(topic = \"quickstart\", package = \"rbmi\")"},{"path":"https://insightsengineering.github.io/tern.rbmi/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Create TLGs using rbmi and tern","text":"recommended create use Github PAT install latest version package. PAT, run following: might need manually install package dependencies installing package without dependencies = FALSE argument install_github may produce error. See package vignettes browseVignettes(package = \"tern.rbmi\") usage package.","code":"Sys.setenv(GITHUB_PAT = \"your_access_token_here\") if (!require(\"devtools\")) install.packages(\"devtools\") devtools::install_github(\"insightsengineering/tern.rbmi@*release\", dependencies = FALSE)"},{"path":"https://insightsengineering.github.io/tern.rbmi/pull_request_template.html","id":null,"dir":"","previous_headings":"","what":"Pull Request","title":"Pull Request","text":"Fixes #nnn","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/a_rbmi_lsmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"Formatted Analysis function which can be further customized by calling\nrtables::make_afun() on it. It is used as afun in rtables::analyze(). ‚Äî a_rbmi_lsmeans","title":"Formatted Analysis function which can be further customized by calling\nrtables::make_afun() on it. It is used as afun in rtables::analyze(). ‚Äî a_rbmi_lsmeans","text":"Formatted Analysis function can customized calling rtables::make_afun() . used afun rtables::analyze().","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/a_rbmi_lsmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formatted Analysis function which can be further customized by calling\nrtables::make_afun() on it. It is used as afun in rtables::analyze(). ‚Äî a_rbmi_lsmeans","text":"","code":"a_rbmi_lsmeans(df, .in_ref_col, show_relative = c(\"reduction\", \"increase\"))"},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/a_rbmi_lsmeans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formatted Analysis function which can be further customized by calling\nrtables::make_afun() on it. It is used as afun in rtables::analyze(). ‚Äî a_rbmi_lsmeans","text":"df input dataframe .in_ref_col boolean variable, reference column specified show_relative \"reduction\" (control - treatment, default) \"increase\" (treatment - control) relative change baseline?","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/h_tidy_pool.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to produce data frame with results\nof pool for a single visit ‚Äî h_tidy_pool","title":"Helper function to produce data frame with results\nof pool for a single visit ‚Äî h_tidy_pool","text":"Helper function produce data frame results pool single visit","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/h_tidy_pool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to produce data frame with results\nof pool for a single visit ‚Äî h_tidy_pool","text":"","code":"h_tidy_pool(x)"},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/h_tidy_pool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function to produce data frame with results\nof pool for a single visit ‚Äî h_tidy_pool","text":"x (pool) list pooled object rbmi analysis results. list includes analysis results, confidence level, hypothesis testing type.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/s_rbmi_lsmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"Statistics function which is extracting estimates from a tidied LS means\ndata frame. ‚Äî s_rbmi_lsmeans","title":"Statistics function which is extracting estimates from a tidied LS means\ndata frame. ‚Äî s_rbmi_lsmeans","text":"Statistics function extracting estimates tidied LS means data frame.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/s_rbmi_lsmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Statistics function which is extracting estimates from a tidied LS means\ndata frame. ‚Äî s_rbmi_lsmeans","text":"","code":"s_rbmi_lsmeans(df, .in_ref_col, show_relative = c(\"reduction\", \"increase\"))"},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/s_rbmi_lsmeans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Statistics function which is extracting estimates from a tidied LS means\ndata frame. ‚Äî s_rbmi_lsmeans","text":"df input dataframe .in_ref_col boolean variable, reference column specified show_relative \"reduction\" (control - treatment, default) \"increase\" (treatment - control) relative change baseline?","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/summarize_rbmi.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyze function for tabulating LS means estimates from tidied\nrbmi pool results. ‚Äî summarize_rbmi","title":"Analyze function for tabulating LS means estimates from tidied\nrbmi pool results. ‚Äî summarize_rbmi","text":"Analyze function tabulating LS means estimates tidied rbmi pool results.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/summarize_rbmi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyze function for tabulating LS means estimates from tidied\nrbmi pool results. ‚Äî summarize_rbmi","text":"","code":"summarize_rbmi(   lyt,   ...,   table_names = \"rbmi_summary\",   .stats = NULL,   .formats = NULL,   .indent_mods = NULL,   .labels = NULL )"},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/summarize_rbmi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyze function for tabulating LS means estimates from tidied\nrbmi pool results. ‚Äî summarize_rbmi","text":"lyt (layout) input layout analyses added . ... additional argument. table_names (character) can customized case vars analyzed multiple times, avoid warnings rtables. .stats (character) statistics select table. .formats (named character list) formats statistics. .indent_mods (named integer) indent modifiers labels. .labels (named character) labels statistics (without indent).","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/summarize_rbmi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyze function for tabulating LS means estimates from tidied\nrbmi pool results. ‚Äî summarize_rbmi","text":"","code":"library(rtables) library(dplyr) #>  #> Attaching package: ‚Äòdplyr‚Äô #> The following objects are masked from ‚Äòpackage:stats‚Äô: #>  #>     filter, lag #> The following objects are masked from ‚Äòpackage:base‚Äô: #>  #>     intersect, setdiff, setequal, union library(broom) library(rbmi)  data <- antidepressant_data levels(data$THERAPY) <- c(\"PLACEBO\", \"DRUG\") # This is important! The order defines the computation order later missing_var <- \"CHANGE\" vars <- list(   id = \"PATIENT\",   visit = \"VISIT\",   expand_vars = c(\"BASVAL\", \"THERAPY\"),   group = \"THERAPY\" ) covariates <- list(   draws = c(\"BASVAL*VISIT\", \"THERAPY*VISIT\"),   analyse = c(\"BASVAL\") ) draws_vars <- set_vars(   outcome = missing_var,   visit = vars$visit,   group = vars$group,   covariates = covariates$draws ) impute_references <- c(\"DRUG\" = \"PLACEBO\", \"PLACEBO\" = \"PLACEBO\") draws_method <- method_bayes() analyse_fun <- ancova analyse_fun_args <- list(   vars = set_vars(     outcome = missing_var,     visit = vars$visit,     group = vars$group,     covariates = covariates$analyse   ) ) pool_args <- list(   conf.level = formals(pool)$conf.level,   alternative = formals(pool)$alternative,   type = formals(pool)$type ) debug_mode <- FALSE  data <- data %>%   dplyr::select(PATIENT, THERAPY, VISIT, BASVAL, THERAPY, CHANGE) %>%   dplyr::mutate(dplyr::across(.cols = vars$id, ~ as.factor(.x))) %>%   dplyr::arrange(dplyr::across(.cols = c(vars$id, vars$visit))) data_full <- do.call(   expand_locf,   args = list(     data = data,     vars = c(vars$expand_vars, vars$group),     group = vars$id,     order = c(vars$id, vars$visit)   ) %>%     append(lapply(data[c(vars$id, vars$visit)], levels)) )  data_full <- data_full %>%   dplyr::group_by(dplyr::across(vars$id)) %>%   dplyr::mutate(!!vars$group := Filter(Negate(is.na), .data[[vars$group]])[1])  # there are duplicates - use first value data_full <- data_full %>%   dplyr::group_by(dplyr::across(c(vars$id, vars$group, vars$visit))) %>%   dplyr::slice(1) %>%   dplyr::ungroup() # need to have a single ID column data_full <- data_full %>%   tidyr::unite(\"TMP_ID\", dplyr::all_of(vars$id), sep = \"_#_\", remove = FALSE) %>%   dplyr::mutate(TMP_ID = as.factor(TMP_ID)) draws_vars$subjid <- \"TMP_ID\"  data_ice <- data_full %>%   dplyr::arrange(dplyr::across(.cols = c(\"TMP_ID\", vars$visit))) %>%   dplyr::filter(is.na(.data[[missing_var]])) %>%   dplyr::group_by(TMP_ID) %>%   dplyr::slice(1) %>%   dplyr::ungroup() %>%   dplyr::select(all_of(c(\"TMP_ID\", vars$visit))) %>%   dplyr::mutate(strategy = \"MAR\")  draws_obj <- draws(   data = data_full,   data_ice = data_ice,   vars = draws_vars,   method = draws_method ) #>  #> SAMPLING FOR MODEL 'MMRM' NOW (CHAIN 1). #> Chain 1:  #> Chain 1: Gradient evaluation took 0.001292 seconds #> Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 12.92 seconds. #> Chain 1: Adjust your expectations accordingly! #> Chain 1:  #> Chain 1:  #> Chain 1: Iteration:    1 / 1200 [  0%]  (Warmup) #> Chain 1: Iteration:  120 / 1200 [ 10%]  (Warmup) #> Chain 1: Iteration:  201 / 1200 [ 16%]  (Sampling) #> Chain 1: Iteration:  320 / 1200 [ 26%]  (Sampling) #> Chain 1: Iteration:  440 / 1200 [ 36%]  (Sampling) #> Chain 1: Iteration:  560 / 1200 [ 46%]  (Sampling) #> Chain 1: Iteration:  680 / 1200 [ 56%]  (Sampling) #> Chain 1: Iteration:  800 / 1200 [ 66%]  (Sampling) #> Chain 1: Iteration:  920 / 1200 [ 76%]  (Sampling) #> Chain 1: Iteration: 1040 / 1200 [ 86%]  (Sampling) #> Chain 1: Iteration: 1160 / 1200 [ 96%]  (Sampling) #> Chain 1: Iteration: 1200 / 1200 [100%]  (Sampling) #> Chain 1:  #> Chain 1:  Elapsed Time: 1.77022 seconds (Warm-up) #> Chain 1:                4.83415 seconds (Sampling) #> Chain 1:                6.60437 seconds (Total) #> Chain 1:  #> Warning: The largest R-hat is 1.14, indicating chains have not mixed. #> Running the chains for more iterations may help. See #> https://mc-stan.org/misc/warnings.html#r-hat impute_obj <- impute( # @TODO: add support of `update_stategy` argument   draws_obj,   references = impute_references )  ref_levels <- levels(impute_obj$data$group[[1]]) names(ref_levels) <- c(\"ref\", \"alt\") analyse_fun_args$vars$subjid <- \"TMP_ID\" analyse_obj <- do.call(   analyse,   args = list(     imputations = impute_obj,     fun = analyse_fun   ) %>%     append(analyse_fun_args) ) pool_obj <- do.call(   pool,   args = list(     results = analyse_obj   ) %>%     append(pool_args) )  h_tidy_pool(pool_obj$pars[1:3]) #>   group       est    se_est lower_cl_est upper_cl_est   est_contr  se_contr #> 1   ref -1.615820 0.4862316    -2.575771   -0.6558685          NA        NA #> 2   alt -1.707626 0.4749573    -2.645319   -0.7699335 -0.09180645 0.6826279 #>   lower_cl_contr upper_cl_contr   p_value relative_reduc #> 1             NA             NA        NA             NA #> 2      -1.439497       1.255884 0.8931772     0.05681725 df <- tidy(pool_obj) df #>   group       est    se_est lower_cl_est upper_cl_est   est_contr  se_contr #> 1   ref -1.615820 0.4862316    -2.575771   -0.6558685          NA        NA #> 2   alt -1.707626 0.4749573    -2.645319   -0.7699335 -0.09180645 0.6826279 #> 3   ref -4.227536 0.6615877    -5.534799   -2.9202730          NA        NA #> 4   alt -2.843979 0.6363828    -4.100883   -1.5870754  1.38355671 0.9246102 #> 5   ref -6.412224 0.7084118    -7.812193   -5.0122552          NA        NA #> 6   alt -4.172410 0.7041290    -5.564826   -2.7799937  2.23981379 1.0158281 #> 7   ref -7.674679 0.7684390    -9.193607   -6.1557504          NA        NA #> 8   alt -4.861514 0.7906577    -6.428144   -3.2948835  2.81316487 1.1129563 #>   lower_cl_contr upper_cl_contr    p_value relative_reduc visit conf_level #> 1             NA             NA         NA             NA     4       0.95 #> 2     -1.4394968       1.255884 0.89317724     0.05681725     4       0.95 #> 3             NA             NA         NA             NA     5       0.95 #> 4     -0.4431662       3.210280 0.13662803    -0.32727261     5       0.95 #> 5             NA             NA         NA             NA     6       0.95 #> 6      0.2306941       4.248933 0.02916478    -0.34930374     6       0.95 #> 7             NA             NA         NA             NA     7       0.95 #> 8      0.6103148       5.016015 0.01273956    -0.36655149     7       0.95  afun <- make_afun(a_rbmi_lsmeans)  basic_table() %>%   split_cols_by(\"group\", ref_group = levels(df$group)[1]) %>%   split_rows_by(\"visit\", split_label = \"Visit\", label_pos = \"topleft\") %>%   summarize_rbmi() %>%   build_table(df) #> Visit                                       ref                alt        #> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî #> 4                                                                         #>   Adjusted Mean (SE)                   -1.616 (0.486)     -1.708 (0.475)  #>     95% CI                            (-2.576, -0.656)   (-2.645, -0.770) #>   Difference in Adjusted Means (SE)                       -0.092 (0.683)  #>     95% CI                                               (-1.439, 1.256)  #>     Relative Reduction (%)                                     5.7%       #>     p-value (RBMI)                                            0.8932      #> 5                                                                         #>   Adjusted Mean (SE)                   -4.228 (0.662)     -2.844 (0.636)  #>     95% CI                            (-5.535, -2.920)   (-4.101, -1.587) #>   Difference in Adjusted Means (SE)                       1.384 (0.925)   #>     95% CI                                               (-0.443, 3.210)  #>     Relative Reduction (%)                                    -32.7%      #>     p-value (RBMI)                                            0.1366      #> 6                                                                         #>   Adjusted Mean (SE)                   -6.412 (0.708)     -4.172 (0.704)  #>     95% CI                            (-7.812, -5.012)   (-5.565, -2.780) #>   Difference in Adjusted Means (SE)                       2.240 (1.016)   #>     95% CI                                                (0.231, 4.249)  #>     Relative Reduction (%)                                    -34.9%      #>     p-value (RBMI)                                            0.0292      #> 7                                                                         #>   Adjusted Mean (SE)                   -7.675 (0.768)     -4.862 (0.791)  #>     95% CI                            (-9.194, -6.156)   (-6.428, -3.295) #>   Difference in Adjusted Means (SE)                       2.813 (1.113)   #>     95% CI                                                (0.610, 5.016)  #>     Relative Reduction (%)                                    -36.7%      #>     p-value (RBMI)                                            0.0127"},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/tern.rbmi-package.html","id":null,"dir":"Reference","previous_headings":"","what":"tern.rbmi Package ‚Äî tern.rbmi-package","title":"tern.rbmi Package ‚Äî tern.rbmi-package","text":"tern.rbmi analysis package create tables, listings graphs analyze clinical trials data.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/tern.rbmi-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"tern.rbmi Package ‚Äî tern.rbmi-package","text":"Maintainer: Joe Zhu joe.zhu@roche.com Authors: Jana Stoilova jana.stoilova@roche.com contributors: F. Hoffmann-La Roche AG [copyright holder, funder]","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/tidy.pool.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper method (for broom::tidy()) to prepare a data frame from an\npool rbmi object containing the LS means and contrasts and multiple visits ‚Äî tidy.pool","title":"Helper method (for broom::tidy()) to prepare a data frame from an\npool rbmi object containing the LS means and contrasts and multiple visits ‚Äî tidy.pool","text":"Helper method (broom::tidy()) prepare data frame pool rbmi object containing LS means contrasts multiple visits","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/tidy.pool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper method (for broom::tidy()) to prepare a data frame from an\npool rbmi object containing the LS means and contrasts and multiple visits ‚Äî tidy.pool","text":"","code":"# S3 method for pool tidy(x)"},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/tidy.pool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper method (for broom::tidy()) to prepare a data frame from an\npool rbmi object containing the LS means and contrasts and multiple visits ‚Äî tidy.pool","text":"x (pool) list pooled object rbmi analysis results. list includes analysis results, confidence level, hypothesis testing type.","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/reference/tidy.pool.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper method (for broom::tidy()) to prepare a data frame from an\npool rbmi object containing the LS means and contrasts and multiple visits ‚Äî tidy.pool","text":"dataframe","code":""},{"path":"https://insightsengineering.github.io/tern.rbmi/news/index.html","id":"ternrbmi-0009009","dir":"Changelog","previous_headings":"","what":"tern.rbmi 0.0.0.9009","title":"tern.rbmi 0.0.0.9009","text":"Initialize package. Add new RBMI analysis function a_rbmi_lsmeans, well corresponding table functions summarize_rbmi.","code":""}]
